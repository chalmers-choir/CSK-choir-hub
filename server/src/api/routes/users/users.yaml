paths:
  /users:
    get:
      tags:
        - users
      summary: List users
      operationId: getUsers
      parameters:
        - name: includeRoles
          in: query
          description: Include user roles in the response
          required: false
          schema:
            type: boolean
            default: false
        - name: includeGroups
          in: query
          description: Include user groups in the response
          required: false
          schema:
            type: boolean
            default: false
        - name: groupId
          in: query
          description: Filter users by group ID
          required: false
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: Users fetched
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: array
                    items:
                      $ref: "../../docs/openapi.yaml#/components/schemas/User"

  /users/{userId}:
    parameters:
      - name: userId
        in: path
        required: true
        description: ID of the user
        schema:
          type: integer
          format: int64
    get:
      tags:
        - users
      summary: Get user
      operationId: getUser
      responses:
        "200":
          description: User fetched
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: "../../docs/openapi.yaml#/components/schemas/User"
    delete:
      tags:
        - users
      summary: Delete user
      description: Deletes a user (Admins only).
      operationId: deleteUser
      responses:
        "204":
          description: User deleted

    put:
      tags:
        - users
      summary: Update user
      description: Updates a user's information.
      operationId: updateUser
      requestBody:
        $ref: "../../docs/openapi.yaml#/components/requestBodies/UpdateUser"
      responses:
        "200":
          description: User updated
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    $ref: "../../docs/openapi.yaml#/components/schemas/User"
