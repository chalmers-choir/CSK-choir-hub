paths:
  /books:
    get:
      tags:
        - books
      summary: List books
      description: Returns all song books.
      operationId: getBooks
      responses:
        '200':
          description: Books fetched
          content:
            application/json:
              schema:
                type: object
                properties:
                  books:
                    type: array
                    items:
                      $ref: '../../docs/openapi.yaml#/components/schemas/Book'
    post:
      tags:
        - books
      summary: Create book
      description: Creates a new book (Admins only).
      operationId: addBook
      requestBody:
        description: Book to create
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              required:
                - name
      responses:
        '201':
          description: Book created
          content:
            application/json:
              schema:
                type: object
                properties:
                  book:
                    $ref: '../../docs/openapi.yaml#/components/schemas/Book'

  /books/{bookId}:
    parameters:
      - name: bookId
        in: path
        description: ID of the book
        required: true
        schema:
          type: integer
          format: int64
    get:
      tags:
        - books
      summary: Get book
      description: Returns a book by ID.
      operationId: getBookById
      responses:
        '200':
          description: Book fetched
          content:
            application/json:
              schema:
                type: object
                properties:
                  book:
                    $ref: '../../docs/openapi.yaml#/components/schemas/Book'
    delete:
      tags:
        - books
      summary: Delete book
      description: Deletes a book by ID (Admins only).
      operationId: deleteBook
      responses:
        '204':
          description: Book deleted

  /books/{bookId}/songs:
    parameters:
      - name: bookId
        in: path
        description: ID of the book
        required: true
        schema:
          type: integer
          format: int64
    post:
      tags:
        - books
      summary: Add song to book
      description: Adds a song to the specified book (Admins only).
      operationId: addSongToBook
      requestBody:
        description: Song to add
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                songId:
                  type: integer
                  format: int64
              required:
                - songId
      responses:
        '204':
          description: Song added to book

  /books/{bookId}/songs/{songId}:
    parameters:
      - name: bookId
        in: path
        description: ID of the book
        required: true
        schema:
          type: integer
          format: int64
      - name: songId
        in: path
        description: ID of the song
        required: true
        schema:
          type: integer
          format: int64
    delete:
      tags:
        - books
      summary: Remove song from book
      description: Removes a song from the specified book (Admins only).
      operationId: removeSongFromBook
      responses:
        '204':
          description: Song removed from book
